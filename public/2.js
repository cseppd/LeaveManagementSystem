(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{65:function(e,r,s){"use strict";s.r(r);var t=s(1),a=s.n(t),o=s(3);function i(e,r,s,t,a,o,i){try{var n=e[o](i),c=n.value}catch(e){return void s(e)}n.done?r(c):Promise.resolve(c).then(t,a)}function n(e){return function(){var r=this,s=arguments;return new Promise((function(t,a){var o=e.apply(r,s);function n(e){i(o,t,a,n,c,"next",e)}function c(e){i(o,t,a,n,c,"throw",e)}n(void 0)}))}}var c,l,u={name:"Login",data:function(){return{submitingToServer:!1,user:{email:"",password:"",remember_me:!1},errors:{}}},mounted:function(){document.querySelector("body").style.backgroundColor="#343a40"},destroyed:function(){document.querySelector("body").style.backgroundColor="transparent"},methods:{handleLogin:(l=n(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("inside login...."),this.submitingToServer=!0,this.errors={},e.prev=3,e.next=6,o.d(this.user);case 6:return r=e.sent,this.submitingToServer=!1,this.errors={},this.$store.dispatch("setToken",r),e.next=12,this.fethUserNow();case 12:this.$router.push("/home"),e.next=26;break;case 15:e.prev=15,e.t0=e.catch(3),this.submitingToServer=!1,e.t1=e.t0.response.status,e.next=422===e.t1?21:500===e.t1?23:25;break;case 21:return this.errors=e.t0.response.data.errors,e.abrupt("break",26);case 23:return this.flashMessage.error({message:e.t0.response.data.message,time:2e3}),e.abrupt("break",26);case 25:return e.abrupt("break",26);case 26:case"end":return e.stop()}}),e,this,[[3,15]])}))),function(){return l.apply(this,arguments)}),fethUserNow:(c=n(a.a.mark((function e(){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.b();case 3:r=e.sent,this.$store.dispatch("setUser",r.data),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,this,[[0,7]])}))),function(){return c.apply(this,arguments)})}},m=s(2),d=Object(m.a)(u,(function(){var e=this,r=e.$createElement,s=e._self._c||r;return s("div",{staticClass:"container"},[s("div",{staticClass:"row justify-content-center"},[s("div",{staticClass:"col-lg-5"},[s("div",{staticClass:"card shadow-lg border-0 rounded-lg mt-5"},[e._m(0),e._v(" "),s("div",{staticClass:"card-body"},[s("form",[s("div",{staticClass:"form-group"},[s("label",{staticClass:"small mb-1",attrs:{for:"email"}},[e._v("Email")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],staticClass:"form-control py-4",attrs:{id:"email",type:"email",placeholder:"Enter email address"},domProps:{value:e.user.email},on:{input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}}),e._v(" "),e.errors.email?s("div",{staticClass:"d-block invalid-feedback"},[e._v(e._s(e.errors.email[0]))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("label",{staticClass:"small mb-1",attrs:{for:"password"}},[e._v("Password")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.password,expression:"user.password"}],staticClass:"form-control py-4",attrs:{id:"password",type:"password",placeholder:"Enter password"},domProps:{value:e.user.password},on:{input:function(r){r.target.composing||e.$set(e.user,"password",r.target.value)}}}),e._v(" "),e.errors.password?s("div",{staticClass:"d-block invalid-feedback"},[e._v(e._s(e.errors.password[0]))]):e._e()]),e._v(" "),s("div",{staticClass:"form-group"},[s("div",{staticClass:"custom-control custom-checkbox"},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.user.remember_me,expression:"user.remember_me"}],staticClass:"custom-control-input",attrs:{id:"rememberPasswordCheck",type:"checkbox"},domProps:{checked:Array.isArray(e.user.remember_me)?e._i(e.user.remember_me,null)>-1:e.user.remember_me},on:{change:function(r){var s=e.user.remember_me,t=r.target,a=!!t.checked;if(Array.isArray(s)){var o=e._i(s,null);t.checked?o<0&&e.$set(e.user,"remember_me",s.concat([null])):o>-1&&e.$set(e.user,"remember_me",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.user,"remember_me",a)}}}),e._v(" "),s("label",{staticClass:"custom-control-label",attrs:{for:"rememberPasswordCheck"}},[e._v("Remember password")])])]),e._v(" "),s("div",{staticClass:"form-group d-flex align-items-left justify-content-between mt-4 mb-0"},[s("button",{staticClass:"btn btn-primary",attrs:{disabled:e.submitingToServer},on:{click:e.handleLogin}},[e._v("Login")])])])]),e._v(" "),e._m(1)])])])])}),[function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"card-header"},[r("h3",{staticClass:"text-center font-weight-light my-4"},[this._v("Login")])])},function(){var e=this.$createElement,r=this._self._c||e;return r("div",{staticClass:"card-footer text-center"},[r("div",{staticClass:"small"})])}],!1,null,null,null);r.default=d.exports}}]);